#!/usr/bin/env node
!function(n){function e(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var t={};return e.m=n,e.c=t,e.i=function(n){return n},e.d=function(n,e,t){Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:t})},e.n=function(n){var t=n&&n.__esModule?function(){return n["default"]}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=9)}([function(n,e){n.exports=require("fs-extra")},function(n,e){n.exports=require("path")},function(n,e){n.exports=require("chalk")},function(n,e,t){"use strict";function r(n){return new Promise(function(e,t){var r=o.resolve("./internal");i.readdir(r,function(r,i){r&&t(r);var o=[].concat.apply([],n.concat([i.map(function(n){return"/internal/"+n})]));console.log(o);var c=o.filter(function(n,e){return n.indexOf(".d.ts")!==-1}),u=c.filter(function(n){return"index.d.ts"!==n});e(u)})})}var i=t(0),o=t(1);e.aggreateDefinitionFiles=r},function(n,e){"use strict";function t(n){return new Promise(function(e,t){var r="// Type definitions for Neo4j Javascript Driver v1.1\r\n// Project: https://github.com/neo4j/neo4j-javascript-driver/\r\n// Definitions by: Gaston Ndanyuzwe <https://github.com/ngasst>\r\n// Definitions: https://github.com/DefinitelyTyped/DefinitelyTyped\r\n// Documentation : https://neo4j.com/docs/api/javascript-driver/current/",i="/// <reference types='node' />\r\n/// <reference types='ws' />",o="declare module \"neo4j-driver\" {\r\nimport * as WebSocket from 'ws';\r\nimport { Subscription } from '@reactivex/rxjs';",c="}",u=r.concat("\r\n").concat(i).concat("\r\n").concat(o).concat("\r\n").concat(n).concat("\r\n").concat(c);e(u)})}e.buildDefinitionFile=t},function(n,e){"use strict";function t(n){return new Promise(function(e,t){var o=r(n),c=i(o);e(c)})}function r(n){var e=n.replace(/(import[^;]+;\s+)/g,"");return e}function i(n){var e=n.replace(/(\sdeclare\s)/g," ");return e}e.cleanDefinitionFile=t},function(n,e,t){"use strict";function r(n){return new Promise(function(e,t){var r=n.map(function(n){var e,t=c.join(process.cwd(),n);return new Promise(function(r,c){i.readFile(t,function(t,i){t&&c(t),e={file:n,content:i.toString()},console.log(o.blue("["+n+"]")+"=>"+o.magenta("OK")),r(e)})})});Promise.all(r).then(function(n){e(n)})["catch"](function(n){return t(n)})})}var i=t(0),o=t(2),c=t(1);e.extractContentsFromFiles=r},function(n,e){"use strict";function t(n){return new Promise(function(e,t){var r=n.sort(function(n,e){return+(n.file>e.file)||+(n.file===e.file)-1}),i=r.reduce(function(n,e){return n.concat(("\r\n\r\n//"+e.file+"\r\n\r\n").concat(e.content))},"");e(i)})}e.mergeFilesIntoOne=t},function(n,e,t){"use strict";function r(n,e){return new Promise(function(t,r){var c=o.resolve(e);i.writeFile(c,n,function(n){n&&r(n),t(c)})})}var i=t(0),o=t(1);e.writeDefinitionFile=r},function(n,e,t){"use strict";function r(n){return new Promise(function(e,t){var r=p.resolve(".");o.readdir(r,function(r,o){r&&t(r),Promise.resolve().then(function(){return c.aggreateDefinitionFiles(o)}).then(function(n){return u.extractContentsFromFiles(n)}).then(function(n){return f.mergeFilesIntoOne(n)}).then(function(n){return l.cleanDefinitionFile(n)}).then(function(n){return s.buildDefinitionFile(n)}).then(function(e){return a.writeDefinitionFile(e,n)}).then(function(n){console.log(i.yellow("Definitions file saved at: "+n)),e(!0)})["catch"](function(n){return t(n)})})})}var i=t(2),o=t(0),c=t(3),u=t(6),f=t(7),s=t(4),a=t(8),l=t(5),p=t(1);r("./index.d.ts").then(function(){console.log(i.grey("Done!"))})["catch"](function(n){console.error(i.red(n))})}]);
//# sourceMappingURL=generate.js.map