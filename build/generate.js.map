{"version":3,"sources":["webpack:///webpack/bootstrap ab6c28da7decfaf7a97f","webpack:///external \"fs-extra\"","webpack:///external \"path\"","webpack:///external \"chalk\"","webpack:///./helpers/aggregate-definition-files.ts","webpack:///./helpers/build-definition-file.ts","webpack:///./helpers/clean-definition-file.ts","webpack:///./helpers/extract-contents-from-files.ts","webpack:///./helpers/merge-files-into-one.ts","webpack:///./helpers/write-definition-file.ts","webpack:///./generate.ts"],"names":[],"mappings":"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","file":"generate.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ab6c28da7decfaf7a97f","module.exports = require(\"fs-extra\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs-extra\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"chalk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"chalk\"\n// module id = 2\n// module chunks = 0","import { readdir } from 'fs-extra';\nimport * as Path from 'path';\n\nexport function aggreateDefinitionFiles(files: string[]) {\n    return new Promise((resolve, reject) => {\n        let path: string = Path.resolve('./internal');\n        readdir(path, (err: NodeJS.ErrnoException, paths: string[]) => {\n\t\t\tif (err) reject(err);\n            let merged: string[] = [].concat(...files, paths.map(s => `/internal/${s}`));\n            console.log(merged);\n            let filtered: string [] = merged.filter((f, i) => f.indexOf('.d.ts') !== -1);\n            let final: string[] = filtered.filter(s => s !== 'index.d.ts');\n        \tresolve(final);\n        });\n    });\n}\n\n\n// WEBPACK FOOTER //\n// ./helpers/aggregate-definition-files.ts","export function buildDefinitionFile(definitions: string) {\n    return new Promise((resolve, reject) => {\n        let header = `// Type definitions for Neo4j Javascript Driver v1.1\\r\\n// Project: https://github.com/neo4j/neo4j-javascript-driver/\\r\\n// Definitions by: Gaston Ndanyuzwe <https://github.com/ngasst>\\r\\n// Definitions: https://github.com/DefinitelyTyped/DefinitelyTyped\\r\\n// Documentation : https://neo4j.com/docs/api/javascript-driver/current/`;\n        let references: string = `/// <reference types='node' />\\r\\n/// <reference types='ws' />`;\n        let open: string = `declare module \"neo4j-driver\" {\\r\\nimport * as WebSocket from 'ws';\\r\\nimport { Subscription } from '@reactivex/rxjs';`;\n        let close: string = `}`;\n       \tlet final: string = header\n           \t\t\t\t\t.concat(`\\r\\n`)\n                            .concat(references) \n           \t\t\t\t\t.concat(`\\r\\n`)\n                            .concat(open) \n           \t\t\t\t\t.concat(`\\r\\n`)\n                            .concat(definitions)\n           \t\t\t\t\t.concat(`\\r\\n`)\n\t\t\t\t\t\t\t.concat(close);\n        resolve(final); \n    });\n}\n\n\n// WEBPACK FOOTER //\n// ./helpers/build-definition-file.ts","export function cleanDefinitionFile(file: string): Promise<string> {\n    return new Promise((resolve, reject) => {\n\t\tlet cleanOne: string = cleanImports(file);\n        let cleanTwo: string = cleanDeclares(cleanOne);\n        resolve(cleanTwo);\n    });\n}\n\nfunction cleanImports(st: string): string {\n    let clean: string = st.replace(/(import[^;]+;\\s+)/g, '');\n    return clean;\n}\n\nfunction cleanDeclares(st: string): string {\n    let clean: string = st.replace(/(\\sdeclare\\s)/g, ' ');\n    return clean;\n}\n\n\n// WEBPACK FOOTER //\n// ./helpers/clean-definition-file.ts","import { readFile } from 'fs-extra';\nimport * as chalk from 'chalk';\nimport * as Path from 'path';\n\nexport function extractContentsFromFiles(names: string[]) {\n    return new Promise((resolve, reject) => {\n\t\tlet p: Promise<{file: string; content: string}>[] = names.map(f => {\n\t\t\tlet c: {file: string; content: string};\n            let path: string = Path.join(process.cwd(), f);\n            return new Promise((resolve, reject) => {\n\t\t\t\treadFile(path, (err: NodeJS.ErrnoException, data: Buffer) => {\n\t\t\t\t\tif(err) reject(err);\n                    c = {\n                        file: f,\n                        content: data.toString()\n                    };\n                    console.log(`${chalk.blue('['+f+']')}=>${chalk.magenta('OK')}`);\n                    resolve(c);\n                });\n            });\n        });\n        Promise.all(p)\n        .then((contents: {file: string; content: string}[]) => {\n            resolve(contents);\n        })\n        .catch(err => reject(err));\n    });\n}\n\n\n// WEBPACK FOOTER //\n// ./helpers/extract-contents-from-files.ts","export function mergeFilesIntoOne(contents: {file: string; content: string}[]) {\n    return new Promise((resolve, reject) => {\n\t\tlet ordered: {file: string; content: string}[] = contents.sort((a, b) => +(a.file > b.file) || +(a.file === b.file) - 1);\n        let defs: string = ordered.reduce((acc, val) => acc.concat(`\\r\\n\\r\\n//${val.file}\\r\\n\\r\\n`.concat(val.content)), ``);\n        resolve(defs);\n    });\n}\n\n\n// WEBPACK FOOTER //\n// ./helpers/merge-files-into-one.ts","import { writeFile } from 'fs-extra';\nimport * as Path from 'path';\nexport function writeDefinitionFile(file: string, path: string): Promise<string> {\n    return new Promise((resolve, reject) => {\n        let resPath: string = Path.resolve(path);\n\t\twriteFile(resPath, file, (err: NodeJS.ErrnoException) => {\n\t\t\tif (err) reject(err);\n            resolve(resPath);\n        });\n    });\n}\n\n\n// WEBPACK FOOTER //\n// ./helpers/write-definition-file.ts","import * as chalk from 'chalk';\nimport { readdir } from 'fs-extra';\nimport { aggreateDefinitionFiles } from './helpers/aggregate-definition-files';\nimport { extractContentsFromFiles } from './helpers/extract-contents-from-files';\nimport { mergeFilesIntoOne } from './helpers/merge-files-into-one';\nimport { buildDefinitionFile } from './helpers/build-definition-file';\nimport { writeDefinitionFile } from './helpers/write-definition-file';\nimport { cleanDefinitionFile } from './helpers/clean-definition-file';\nimport * as Path from 'path';\n\ngenerate('./index.d.ts')\n.then(() => {\n    console.log(chalk.grey('Done!'));\n})\n.catch((err) => {\n    console.error(chalk.red(err));\n});\n\nfunction generate(outPath: string) {\n    return new Promise((resolve, reject) => {\n        let path: string = Path.resolve('.');\n\t\treaddir(path, (err: NodeJS.ErrnoException, files: string[]) => {\n            if (err) reject(err);\n\t\t\tPromise.resolve()\n            .then(() => {\n                return aggreateDefinitionFiles(files);\n            })\n            .then((filtered: string[]) => {\n\t\t\t\treturn extractContentsFromFiles(filtered);\n            })\n            .then((contents: {file: string; content: string}[]) => {\n                return mergeFilesIntoOne(contents);\n            })\n\t\t\t.then((file: string) => {\n                return cleanDefinitionFile(file);\n            })\n            .then((definitions: string) => {\n                return buildDefinitionFile(definitions);\n            })\n\t\t\t.then((file: string) => {\n                return writeDefinitionFile(file, outPath);\n            })\n            .then((path: string) => {\n                console.log(chalk.yellow(`Definitions file saved at: ${path}`));\n                resolve(true);\n            })\n            .catch(err => reject(err));\n        });\n    });\n}\n\n\n// WEBPACK FOOTER //\n// ./generate.ts"],"sourceRoot":""}